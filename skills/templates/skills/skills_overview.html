{% extends "base.html" %}
{% load permissionif %}

{% block body-classes %}skills-overview{% endblock %}

{% block content %}
<div class="page-buttons">
  {# Topics #}
  <a href="#" class="button sorting" data-dropdown="skill-all-topics">
    All topics
    <span class="icon triangle-down red"></span>
  </a>
  <ul id="skill-all-topics" class="f-dropdown" data-dropdown-content>
    <li>Topic 1</li>
    <li>Topic 2</li>
  </ul>

  {# Sorting #}
  <a href="#" class="button sorting" data-dropdown="skill-sort">
    Newest
    <span class="icon triangle-down red"></span>
  </a>
  <ul id="skill-sort" class="f-dropdown" data-dropdown-content>
    <li><a href="?sort=created_at&dir=desc">Newest</a></li>
    <li><a href="?sort=created_at&dir=asc">Oldest</a></li>
  </ul>

  {# View public #}
  {% if showing_hidden %}
    <a href="{% url 'skills:skills_overview' %}" class="button info">
      Hide hidden skills
    </a>
  {% else %}
    {% permission request.user has 'skills.show_hidden' %}
    <a href="{% url 'skills:skills_overview_all' show_hidden=True %}" class="button info">
      View hidden skills
    </a>
    {% endpermission %}
  {% endif %}

</div>
<h1 class="white-on-red">Skills</h1>

<hr>

<ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-2 xlarge-block-grid-3 skill-list-view">
  {% for skill in skills %}
  <li class="row">
    <div class="skill-icon small-3 columns">
      <img src="{{ skill.getImage }}" alt="Skill image">
    </div>
    <div class="description small-9 columns">
      <a href="{% url 'skills:skill_view' skill.id %}"><h2>{{skill.name}}</h2></a>
      <p>{{skill.description}}</p>
      <div class="info">
        <span class="metadata">{{ skill.trainingbits.count }} Training Bits</span>
        <hr>
        <span class="icon small heart red"></span> 23
        <span class="icon small chat red"></span> 9
      </div>
    </div>
  </li>
{% endfor %}
</ul>

{% endblock %}
